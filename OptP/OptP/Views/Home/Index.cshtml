<script src="~/Scripts/Home/Home.js"></script>
<div ng-controller="HomeController">
    <div style="display:initial !important" class="row">
        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-centered">
            <div style="min-width: initial !important;"
                 class="login-dp col-xs-2 col-sm-2 col-md-2 col-lg-2 pull-right">
                <a style="cursor:pointer;" ng-click="logout()">Sair</a>
            </div>
        </div>
    </div>
    <div class="row">
        <div align="center" class="col-xs-12 col-sm-12 col-md-8 col-lg-8 col-centered">
            <div class="login-dp">
                <div class="row">
                    <label>Nome do modelo</label>
                </div>
                <div class="row">
                    <div class="col-md-5 form-group" style="float: initial;">
                        <input ng-model="modeloMatematico.NomeModeloMatematico" type="text"
                               class="form-control" placeholder="Nome Modelo">
                    </div>
                </div>
            </div>
            <br />
            <div class="login-dp">
                <div class="col-md-12 col-sm-12 col-lg-12 espacado">
                    <form ng-submit="submitVariavel()" class="form" href="#" accept-charset="UTF-8" id="login-form">
                        <div class="form-group">
                            <div class="row">
                                <div class="row">
                                    <label>Variáveis</label>
                                </div>
                                <div class="col-md-2">
                                    <input ng-model="variavelAAdicionar.coeficiente" type="number"
                                           step="0.01" class="form-control" placeholder="Coeficiente" required>
                                </div>
                                <div class="col-md-5">
                                    <input ng-model="variavelAAdicionar.nomeVariavel" type="text"
                                           class="form-control" placeholder="Nome da variável" required>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary btn-block">+</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-repeat="(nomeVariavel, coeficiente) in modeloMatematico.Variaveis">
                            <div class="row">
                                <div class="col-md-2">
                                    <input ng-model="coeficiente" type="number"
                                           step="0.01" class="form-control" placeholder="Coeficiente" disabled>
                                </div>
                                <div class="col-md-5">
                                    <input ng-model="nomeVariavel" type="text"
                                           class="form-control" placeholder="Nome da variável" disabled>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <br />
            <div class="login-dp">
                <div class="col-md-12 col-sm-12 col-lg-12 espacado">
                    <form ng-submit="adicionarRestricao()" class="form" href="#" accept-charset="UTF-8" id="login-form">
                        <div class="form-group">
                            <div class="row">
                                <label>Restrições</label>
                            </div>
                            <div class="row">
                                <div class="col-md-5" style="float: initial;">
                                    <input ng-model="restricaoAAdicionar.NomeRestricao" type="text"
                                           class="form-control" placeholder="Nome Restricao" required>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-2">
                                    <input ng-model="variavelDaRestricaoAAdicionar.coeficiente" type="number"
                                           step="0.01" class="form-control" placeholder="Coeficiente da variável">
                                </div>
                                <div class="col-md-5">
                                    <select class="form-control" ng-model="variavelDaRestricaoAAdicionar.nomeVariavel">
                                        <option value="" selected>Selecione</option>
                                        <option ng-repeat="(variavel, coeficiente) in modeloMatematico.Variaveis"
                                                value="{{variavel}}">
                                            {{variavel}}
                                        </option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <button ng-click="adicionarVariavelRestricao()" type="button" class="btn btn-primary btn-block">+</button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group" ng-repeat="(nome, coeff) in restricaoAAdicionar.Variaveis">
                            <div class="row">
                                <div class="col-md-2">
                                    <input ng-model="coeff" type="number"
                                           step="0.01" class="form-control" placeholder="Coeficiente" disabled>
                                </div>
                                <div class="col-md-5">
                                    <input class="form-control" placeholder="Nome" ng-model="nome" disabled>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-5">
                                    <select ng-model="restricaoAAdicionar.Operador" class="form-control" required>
                                        <option value="" selected>Selecione</option>
                                        <option ng-repeat="(codigo, operador) in operadores" value="{{codigo}}">{{operador}}</option>
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <input ng-model="restricaoAAdicionar.Expressao" type="number"
                                           step="0.01" class="form-control" placeholder="Valor expressão" required>
                                </div>
                                <div class="col-md-3">
                                    <button type="submit" class="btn btn-primary btn-block">+</button>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group" ng-repeat="restricao in modeloMatematico.Restricoes">
                                <p style="display:inline-block;">{{restricao.NomeRestricao}}</p>
                                <p style="display:inline-block;" ng-show="restricao.NomeRestricao">-></p>
                                <p style="display:inline-block;" ng-repeat="(nome, coeff) in restricao.Variaveis">{{(coeff > 0) ? '+' : '-'}}&nbsp;{{coeff}} * {{nome}}</p>
                                <p style="display:inline-block;">
                                    {{operadores[restricao.Operador]}} {{restricao.Expressao}}
                                </p>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <br />
            <div class="login-dp">
                <div class="col-md-12 col-sm-12 col-lg-12 espacado">
                    <form ng-submit="solucionarProblema()" class="form" href="#" accept-charset="UTF-8" id="login-form">
                        <div class="row">
                            <label>Objetivo</label>
                        </div>
                        <div class="row">
                            <div style="float:initial;" class="col-md-4 col-sm-4 col-lg-4 form-group">
                                <select class="form-control" ng-model="modeloMatematico.Direcao" required>
                                    <option value="" selected>Selecione</option>
                                    <option ng-repeat="(codigo, descricao) in direcaoOptimizacao"
                                            value="{{codigo}}">
                                        {{descricao}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div style="float:initial;" class="col-md-4 form-group">
                                <button type="submit" class="btn btn-primary btn-block">Resolver</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <br />
            <div ng-hide="solucao == null" class="login-dp">
                <div class="col-md-12 col-sm-12 col-lg-12 espacado">
                    <div class="row">
                        <label>Solução</label>
                    </div>
                    <div class="row">
                        <p>
                            A função objetivo de {{direcaoOptimizacao[modeloMatematico.Direcao]}}
                            teve como resultados:
                        </p>
                        <br />
                        <p ng-repeat="(name, value) in solucao.VariaveisResolvidas">
                            <label>{{name}} : {{value}}</label>
                        </p>
                        <p>
                            <label>Objetivo(z) : {{solucao.ValorFuncaoObjetivoResolvido}}</label>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>